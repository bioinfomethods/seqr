"use strict";(self.webpackChunkseqr=self.webpackChunkseqr||[]).push([[557],{32639:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var r=n(92437),o=n(71433),i=n.n(o),l=n(66318),s=n.n(l),a=n(190);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={display:"none"},h={cursor:"pointer"},v=function(e){e.target.value=null},g=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,f(t).call(this,e)),b(y(n),"setFileInputRef",(function(e){e&&(n.fileInput=e)})),b(y(n),"cancelFileItem",(function(e){return function(t){t.stopPropagation(),n.cancelFile(e.index)}})),n.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.state,{},n.props.initialState||{}),n}var n,o,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(o=[{key:"renderInput",value:function(){return r.createElement("input",{name:"file-upload",style:m,multiple:this.props.maxFiles>1,type:"file",ref:this.setFileInputRef,onChange:this.onFileSelect,onClick:v})}},{key:"uploadFile",value:function(e,t){var n=this;if(this.props.onUploadStarted&&this.props.onUploadStarted(),e){var r=new FormData,o=new XMLHttpRequest;r.append(this.props.fieldName,e,e.name),o.onload=function(){t(100),n.props.onUploadFinished&&n.props.onUploadFinished(o,n.state)},o.upload.onprogress=function(e){e.lengthComputable&&t(e.loaded/e.total*100)},o.open(this.props.method,this.props.url,!0),o.setRequestHeader("X-CSRFToken",i().get("csrf_token")),o.send(r),this.xhrs[e.index]=o}}},{key:"renderFileSet",value:function(){var e=this,t=this.state.items,n=this.props.progressClass;if(t.length>0){var o=this.props,i=o.cancelIconClass,l=o.completeIconClass,s=this.state.styles,a=t.filter((function(e){return!0===e.cancelled})),c=t.length===a.length?m:s.fileset;return r.createElement("div",{style:c},t.filter((function(e){return!e.cancelled})).map((function(t){var o=t.file;if(!o)return null;var a=(o.size/1048576).toPrecision(2),c=t.progress<100?i:l;return r.createElement("div",{key:t.index},r.createElement("div",{style:s.fileDetails},r.createElement("span",{className:"icon-file icon-large"},"Â "),r.createElement("span",{style:s.fileName},"".concat(o.name)),a&&r.createElement("span",{style:s.fileSize},"".concat(a," Mb")),r.createElement("i",{className:c,style:h,onClick:e.cancelFileItem(t)})),r.createElement("div",null,r.createElement("progress",{style:n?void 0:s.progress,className:n,min:"0",max:"100",value:t.progress},"".concat(t.progress,"%"))))})))}return r.createElement("div",null)}},{key:"shouldComponentUpdate",value:function(e,t){var n=this;return!!Object.keys(e).some((function(t){return e[t]!==n.props[t]}))||t!==this.state}}])&&p(n.prototype,o),l&&p(n,l),t}(a.Z);b(g,"propTypes",{onUploadStarted:s().func,onUploadFinished:s().func,initialState:s().object});const O=g}}]);